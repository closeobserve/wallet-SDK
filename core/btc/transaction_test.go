package btc

import (
	"bytes"
	"encoding/hex"
	"github.com/stretchr/testify/require"
	"reflect"
	"testing"
)

func TestExtractPsbtToMsgTx(t *testing.T) {
	type args struct {
		psbtTx string
	}
	tests := []struct {
		name    string
		args    args
		want    string
		wantErr bool
	}{
		{
			name: "test case 1",
			args: args{
				psbtTx: "70736274ff0100fd1e110100000001d49552f36d9ff754b475f8ec5e1822774dbcdb67a1af4e19b75852193b6f367a0100000000fdffffff655107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec93cc6000000000000160014ca1ebc2823e9c38ff36084c1320b751ba7b656c6000000000001011f5e5f040000000000160014ca1ebc2823e9c38ff36084c1320b751ba7b656c6220203772da2fda340de5e187408332d7df123607b6e4d1e2ebd16c466b59f9342086647304402207aa0580f0a9dfd055971c8dd0d2d990a157f80babfa9287d29df82430d74942b02204ad28739a9a1ebcae43a3e8b86845533b2cc5313052f242b4bc4118e1e37b23101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
			},
			want:    "01000000000101d49552f36d9ff754b475f8ec5e1822774dbcdb67a1af4e19b75852193b6f367a0100000000fdffffff655107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec95107000000000000225120372f0e143e77f952b62aaa2ea8ff75ca752ad27860b421f4d51fd0a7e9d63ec93cc6000000000000160014ca1ebc2823e9c38ff36084c1320b751ba7b656c60247304402207aa0580f0a9dfd055971c8dd0d2d990a157f80babfa9287d29df82430d74942b02204ad28739a9a1ebcae43a3e8b86845533b2cc5313052f242b4bc4118e1e37b231012103772da2fda340de5e187408332d7df123607b6e4d1e2ebd16c466b59f9342086600000000",
			wantErr: false,
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got, err := ExtractPsbtToMsgTx(tt.args.psbtTx)
			if (err != nil) != tt.wantErr {
				t.Errorf("ExtractPsbtToMsgTx() error = %v, wantErr %v", err, tt.wantErr)
				return
			}
			b := bytes.NewBuffer([]byte{})
			err = got.Serialize(b)
			require.NoError(t, err)
			if !reflect.DeepEqual(hex.EncodeToString(b.Bytes()), tt.want) {
				t.Errorf("ExtractPsbtToMsgTx() got = %v, want %v", got, tt.want)
			}
		})
	}
}
